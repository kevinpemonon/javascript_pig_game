<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="style.css">
    <title>Document</title>
</head>
<body>
    <section class="scores">
        <div class="player1-score">
        Joueur 1 : <span class="score1" >0</span>
        </div>
        <div class="player2-score">
        Joueur 2 : <span class="score2">0</span>
        </div>
    </section>
    <section class="gameboard">
        <span class = winner></span>
        <h1>Joueur actuel : <span class="player-name">Joueur 1</span></h1>
        <div class="stock-container">
        Score courant : <span class="stock">0</span>
        </div>
        <section class="dices-container">
        <h1>Résultat des dés</h1>
        <div class="dices">
            <div class="dice1">4</div>
            <div class="dice2">6</div>
        </div>
        <div class="total">
            Total : <span class="total-value">10</span>
        </div>
        </section>
        <div class="actions">
        <button class="sock-it">Stocker</button>
        <button class="launch-it">Lancer les dès</button>
        <button class="reset"> Recommencer</button>
        </div>
    </section>

    <script>
        var $buttonDes = document.querySelector(".launch-it");
        var $des1 = document.querySelector(".dice1");
        var $des2 = document.querySelector(".dice2");
        var $totalLancerJ1 = document.querySelector(".total-value");
        var $scoreCourant = document.querySelector(".stock");
        var $joueur = document.querySelector(".player-name");

        function lancerLesDesJ1 () {
        var $valeurDes1 = Math.floor(Math.random() * 6) + 1;
        var $valeurDes2 = Math.floor(Math.random() * 6) + 1;
        $des1.innerHTML = $valeurDes1;
        $des2.innerHTML = $valeurDes2;
        $totalLancerJ1.innerHTML = $valeurDes1 + $valeurDes2;
        $scoreCourant.innerHTML = Number($scoreCourant.innerHTML) + Number($totalLancerJ1.innerHTML);
        
        if ($valeurDes1 === 1 || $valeurDes2 === 1) {
            $scoreCourant.innerHTML = 0;
            if ($joueur.innerHTML === "Joueur 1") {
            $joueur.innerHTML = "Joueur 2";
            }
            else {
            $joueur.innerHTML = "Joueur 1";
            }  
        }
        }
        $buttonDes.addEventListener("click", lancerLesDesJ1);


        var $buttonStock = document.querySelector(".sock-it");
        var $scoreJ1 = document.querySelector(".score1");
        var $scoreJ2 = document.querySelector(".score2");
        var $vainqueur = document.querySelector(".winner");

        function stockerPoints () {
        if ($joueur.innerHTML === "Joueur 2") {
            $scoreJ2.innerHTML = Number($scoreJ2.innerHTML) + Number($scoreCourant.innerHTML);
            $scoreCourant.innerHTML = 0;
            $joueur.innerHTML = "Joueur 1";     
        }
        else {
            $scoreJ1.innerHTML = Number($scoreJ1.innerHTML) + Number($scoreCourant.innerHTML);
            $scoreCourant.innerHTML = 0;
            $joueur.innerHTML = "Joueur 2";
        }
        } 
        $buttonStock.addEventListener("click", stockerPoints);

        var $recommencer = document.querySelector(".reset");

        function reset() {
        $scoreJ1.innerHTML = 0;
        $scoreJ2.innerHTML = 0;
        }

        $recommencer.addEventListener("click", reset);
    </script>
    
</body>
</html>